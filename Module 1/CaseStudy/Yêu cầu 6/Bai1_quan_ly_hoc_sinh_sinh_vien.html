<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω h·ªçc sinh , sinh vi√™n</title>
    <link rel="icon" type="image/png"
          href="https://cdn.haitrieu.com/wp-content/uploads/2021/10/Logo-DH-Cong-Doan-TUU.png">
    <style>
        .addStudent {
            margin-left: 50%;
            height: 40px;
            width: 250px;
            border-radius: 10px;
            border: none;
            font-size: 20px;
            font-family: "Segoe UI", Arial, sans-serif;
            background-image: linear-gradient(to bottom right, #0100EC, #FB36F4);
            color: white;
            box-shadow: 2px 2px 4px deepskyblue;
        }

        .information {
            margin-left: 10%;
            margin-top: 30px;
        }

        .information input {
            width: 180px;
            margin-left: 20px;
            height: 25px;
            border-radius: 5px;
            border: none;
            border-bottom: 2px solid darkred;
            color: #23A6D5;
        }

        .search .prefix {
            position: relative;
            right: -110px;
            color: grey;
        }

        .search input .has-prefix {
            padding-left: 50px;
            margin-left: -50px
        }

        .search {
            margin-left: 35%;
        }

        .search label {
            font-size: 30px;
            text-align: center;
        }

        .search input {
            margin-left: 70px;
            margin-top: 20px;
            height: 40px;
            width: 300px;
            border: none;
            border-bottom: 3px solid deepskyblue;
            text-indent: 40px;
        }

        .search button {
            margin-left: 20px;
            height: 40px;
            width: 100px;
            border: none;
            border-radius: 20px;
            font-size: 20px;
            box-shadow: 2px 2px 4px blue;
            transition: all 0.5s;
            cursor: pointer;
        }

        .search button span {
            cursor: pointer;
            display: inline-block;
            position: relative;
            transition: 0.5s;
        }

        .search button span:after {
            content: '\00bb';
            position: absolute;
            opacity: 0;
            top: 0;
            right: -20px;
            transition: 0.5s;
        }

        .search button:hover span {
            padding-right: 25px;
        }

        .search button:hover span:after {
            opacity: 1;
            right: 0;
        }

        .search button:hover {
            box-shadow: 0 12px 16px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19);
        }

        .search p {
            font-size: 20px;
            margin-left: -5in;
        }

        .textMarquee {
            display: flex;
        }

        .textMarquee h1 {
            text-transform: uppercase;
            background: linear-gradient(to right, #30CFD0 0%, #330867 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .textMarquee .imgMarquee {
            position: absolute;
            height: 70px;
            width: 150px;
        }
        .mxh {
            display: flex;
            margin-left: 40%;
        }

    </style>
</head>
<body>
<div class="textMarquee">
    <marquee behavior="alternate" style="font-size: 30px"><h1>TRANG WEB QU·∫¢N L√ù H·ªåC VI√äN </h1>
        <img class="imgMarquee" src="https://cdn.pixabay.com/animation/2022/09/18/18/39/18-39-26-615_512.gif"></marquee>
    </br>
</div>
<div class="search">
    <span class="prefix">HV - </span>
    <input class="has-prefix " id="searchStudent" type="text" placeholder="Nh·∫≠p id h·ªçc vi√™n b·∫°n mu·ªën t√¨m">
    <button onclick="searchStudent()"><span>T√¨m</span></button>
    <p id="resultStudent"></p>
</div>
<p id="result"></p>
<button onclick="addStudent()" class="addStudent">ü§úTh√™m m·ªõi h·ªçc vi√™nü§õ</button>
<!--<div class="information">-->
<!--&lt;!&ndash;    <input type="text" placeholder="Nh·∫≠p ID h·ªçc vi√™n" id="idStudent"  p="HV-">&ndash;&gt;-->
<!--    <span class="prefix">HV-</span>-->
<!--    <input class="has-prefix" type="text" placeholder=" Nh·∫≠p m√£ h·ªçc vi√™n" id="idStudent">-->

<!--    <input type="text" placeholder="Nh·∫≠p t√™n h·ªçc vi√™n" id="nameStudent">-->
<!--    <input type="text" placeholder="Nh·∫≠p l·ªõn h·ªçc vi√™n" id="gradeStudent">-->
<!--    <input type="text" placeholder="Nh·∫≠p Email h·ªçc vi√™n" id="emailStudent">-->
<!--    <input type="text" placeholder="Nh·∫≠p ng√†y sinh h·ªçc vi√™n" id="dateStudent">-->
<!--    <input type="number" placeholder="Nh·∫≠p Module h·ªçc vi√™n" id="moduleStudent" max="6" min="1">-->
<!--</div>-->
<script>
    let conf = confirm("Tr∆∞·ªõc khi v√†o c·∫ßn ƒëƒÉng nh·∫≠p tr∆∞·ªõc");
    if (conf) {
        let loginAccount = prompt("Nh·∫≠p t√†i kho·∫£n : PTV");
        let loginPassword = prompt("Nh·∫≠p m·∫≠t kh·∫©u : 123");
        if (loginAccount === "PTV" && loginPassword === "123") {
            alert("ƒêƒÉng nh·∫≠p th√†nh c√¥ng");

            class CheckInformationStudent {
                constructor(idStudent, nameStudent, grade, email, date, module) {
                    this.idStudent = idStudent;
                    this.nameStudent = nameStudent;
                    this.grade = grade;
                    this.email = email;
                    this.date = date;
                    this.module = module;
                }

                setID(idStudent) {
                    this.idStudent = idStudent;
                }

                setName(nameStudent) {
                    this.nameStudent = nameStudent;
                }

                setGrade(grade) {
                    this.grade = grade;
                }

                setEmail(email) {
                    this.email = email;
                }

                setDate(date) {
                    this.date = date;
                }

                setModule(module) {
                    this.module = module;
                }

                getID() {
                    return this.idStudent;
                }

                getName() {
                    return this.nameStudent;
                }

                getgrade() {
                    return this.grade;
                }

                getEmail() {
                    return this.email;
                }

                getDate() {
                    return this.date;
                }

                getModule() {
                    return this.module;
                }
            }

            let newStudent = [];
            let countID = 0;
            // alert ((countID+"").length === 1 ? "000" + ++countID : 9);
            let newStudent1 = new CheckInformationStudent(initAutoIncrementID(++countID), "Nguy·ªÖn √Ånh", "C0222G1", "nguyenanh@gmail.com", "02/05/2001", 4);
            let newStudent2 = new CheckInformationStudent(initAutoIncrementID(++countID), "Phan T·∫•n V∆∞∆°ng", "C0222G1", "phantanvuong001@gmail.com", "02/05/2001", 2);
            let newStudent3 = new CheckInformationStudent(initAutoIncrementID(++countID), "L√™ VƒÉn Long", "C0222G1", "longle1999@gmail.com", "02/05/2001", 3);
            let newStudent4 = new CheckInformationStudent(initAutoIncrementID(++countID), "Nguy·ªÖn Minh Quang", "C0222G1", "quangnguyen007@gmail.com", "02/05/2001", 1);
            newStudent.push(newStudent1, newStudent2, newStudent3, newStudent4);
            display(newStudent);
            let arr = [];

            function initAutoIncrementID(currentId) {
                let preId = "";
                for (let i = 4; i > (currentId + "").length; i--) {
                    preId += "0";
                }
                return preId + currentId;
            }

            function addStudent() {
                let name = prompt("Nh·∫≠p t√™n c·ªßa h·ªçc vi√™n", "Nh·∫≠p t√™n c·ªßa Bro v√†o ƒë√¢y");
                let arrName = name.split("");
                for (let i = 0; i < arrName.length; i++) {
                    if (arrName[i] === arrName[0]) {
                        arrName[i] = arrName[i].toUpperCase();
                    } else if (arrName[i] === " ") {
                        arrName[i + 1] = arrName[i + 1].toUpperCase();
                        i++;
                    } else {
                        arrName[i] = arrName[i].toLowerCase();
                    }
                }
                let grade = prompt("Nh·∫≠p l·ªõp c·ªßa h·ªçc vi√™n");
                let arrGrade = grade.split("");
                for (let i = 0; i < arrGrade.length; i++) {
                  arrGrade[i] = arrGrade[i].toUpperCase();
                }
                let email = prompt("Nh·∫≠p Email c·ªßa h·ªçc vi√™n");

                let arrDate = "";
               while (true){
                   let date = prompt("Nh·∫≠p ng√†y th√°ng sinh c·ªßa h·ªçc vi√™n");
                   arrDate = date.toString("");
                   let day = arrDate.substring(0, 2);

                   let month = arrDate.substring(3, 5);
                   let year = arrDate.substring(6, 10);

                   let kiTu1 = arrDate.substring(2, 3);
                   let kiTu2 = arrDate.substring(5, 6);
                   if (day > 0 && day < 32 && !isNaN(day) && month < 13 && month > 0 && !isNaN(month) && year > 0 && !isNaN(year) && year.length === 4
                       && (kiTu1 === "/" || kiTu1 === "-") && (kiTu2 === "/" || kiTu2 === "-")&& arrDate.length === 10) {
                       break;
                   }else {
                       alert("L·ªói ƒë·ªãnh d·∫°ng ho·∫∑c sai ng√†y th√°ng , Nh·∫≠p l·∫°i")
                   }
               }
                let module = prompt("Nh·∫≠p module cua h·ªçc vi√™n");
                let addnewStudent = new CheckInformationStudent(initAutoIncrementID(++countID), arrName.join(""), arrGrade.join(""), email, arrDate, module);
                newStudent.push(addnewStudent)
                display(newStudent);
            }


            function editStudent(index) {
                let edit = +prompt("B·∫°n mu·ªën s·ª≠a g√¨ \n 1 . T√™n h·ªçc vi√™n\n 2 . L·ªõp\n 3 . Email\n 4 . Ng√†y sinh\n 5 . Module");
                if (edit === 1) {
                    let editName = prompt("Ch·ªânh t√™n h·ªçc vi√™n " + newStudent[index].nameStudent + " th√†nh :")
                    let arr = editName.split("");
                    for (let i = 0; i < arr.length; i++) {
                        if (arr[i] === arr[0]) {
                            arr[i] = arr[i].toUpperCase();
                        } else if (arr[i] === " ") {
                            arr[i + 1] = arr[i + 1].toUpperCase();
                            i++;
                        } else {
                            arr[i] = arr[i].toLowerCase();
                        }
                    }
                    newStudent[index].nameStudent = arr.join("");
                }
                if (edit === 2) {
                    let editgrade = prompt("Ch·ªânh l·ªõp h·ªçc vi√™n " + newStudent[index].nameStudent + " ƒëang h·ªçc l·ªõp " + newStudent[index].grade +" th√†nh :");
                    let arr = editgrade.split("");
                    for (let i = 0; i < arr.length; i++) {
                        if (arr.length === 7) {
                            arr[i] = arr[i].toUpperCase();
                        } else {
                            alert("ƒê·ªô d√†i c·ªßa l·ªõp l√† 7 ch·ªØ + s·ªë , Nh·∫≠p l·∫°i")
                        }
                    }
                    newStudent[index].grade = arr.join("");
                    alert("Chuy·ªÉn l·ªõp th√†nh c√¥ng , H√£y ƒë√°nh gi√° cho ch√∫ng t√¥i 5‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê");
                }
                if (edit === 3) {
                    let editEmail = prompt("Ch·ªânh Email h·ªçc vi√™n " + newStudent[index].nameStudent + " th√†nh :");
                    newStudent[index].email = editEmail;
                }
                if (edit === 4) {
                    while (true) {
                        let editDate = prompt("Ch·ªânh ng√†y sinh h·ªçc vi√™n " + newStudent[index].nameStudent + " th√†nh :\n ƒê·ªãnh d·∫°ng dd/mm/yyyy");
                        let day = editDate.substring(0, 2);

                        let month = editDate.substring(3, 5);
                        let year = editDate.substring(6, 10);

                        let kiTu1 = editDate.substring(2, 3);
                        let kiTu2 = editDate.substring(5, 6);
                        if (day > 0 && day < 32 && !isNaN(day) && month < 13 && month > 0 && !isNaN(month) && year > 0 && !isNaN(year) && year.length === 4
                            && (kiTu1 === "/" || kiTu1 === "-") && (kiTu2) === "/" || kiTu2 === "-") {
                            newStudent[index].date = editDate;
                            break;
                        } else {
                            alert("L·ªói nh·∫≠p , Nh·∫≠p l·∫°i");
                        }
                    }

                }
                if (edit === 5) {
                    while (true) {
                        let editModule = +prompt("Ch·ªânh Module h·ªçc vi√™n " + newStudent[index].nameStudent + " th√†nh :")
                        if (editModule < 6 && editModule > 0) {
                            newStudent[index].module = editModule;
                            break;
                        } else {
                            alert("Module nh·ªè h∆°n 6 v√† l·ªõn h∆°n 0 , Nh·∫≠p l·∫°i");
                        }
                    }
                }
                display(newStudent);
            }

            function deleteStudent(index) {
                let conf = confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a th√¥ng tin c·ªßa h·ªçc vi√™n " + newStudent[index].nameStudent + " kh√¥ng?")
                if (conf) {
                    let conf = confirm("B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a h·ªçc vi√™n " + newStudent[index].nameStudent + " ch·ª©");
                    if (conf) {
                        let conf = confirm("Ch·∫Øc ch·∫Øn ch∆∞a??");
                        if (conf) {
                            newStudent.splice(index, 1);
                            alert("X√≥a th√†nh c√¥ng");
                        }
                    }
                }
                display(newStudent);
            }

            function searchStudent() {
                let id = document.getElementById("searchStudent").value;
                let flag = false;
                let result = document.getElementById("resultStudent");
                for (let i = 0; i < newStudent.length; i++) {
                    if (id === newStudent[i].idStudent) {
                        result.innerText = "T√™n h·ªçc vi√™n : " + newStudent[i].nameStudent + "  . " +
                            "L·ªõp h·ªçc vi√™n : " + newStudent[i].grade + "  . " +
                            "Email c·ªßa h·ªçc vi√™n : " + newStudent[i].email + "  . " +
                            "Ng√†y sinh c·ªßa h·ªçc vi√™n : " + newStudent[i].date + "  . " +
                            "Module h·ªçc vi√™n ƒëang h·ªçc : " + newStudent[i].module + "  . ";
                        flag = true;
                        break;
                    }
                }
                if (flag === false) {
                    alert("Kh√¥ng c√≥ h·ªçc vi√™n c√≥ ID n√†y , Ch√∫c Bro may m·∫Øn l·∫ßn sau");
                }
                if (id === ""){
                    result.innerHTML = "";
                }

            }

            function display(list) {
                let tableString = '<table style="text-align: center ; height: 350px;width: 90%;margin: 0 auto;border-color: red">\n' +
                    '    <tr style="height: 50px">\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">M√£ h·ªçc vi√™n</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">T√™n h·ªçc vi√™n</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">H·ªçc l·ªõp</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">Email</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">Ng√†y sinh</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">Module</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">Ch·ªânh s·ª≠a h·ªçc vi√™n</th>\n' +
                    '        <th style="border-radius: 20px;background-image: linear-gradient(to bottom right, #FF3E9D, #0E1F40);color: white">X√≥a h·ªçc vi√™n</th>\n' +
                    '    </tr>'
                for (let i = 0; i < list.length; i++) {
                    tableString += ' <tr style="height: 60px">\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + "HV - " + list[i].getID() + '</td>\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + list[i].getName() + '</td>\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + list[i].getgrade() + '</td>\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + list[i].getEmail() + '</td>\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + list[i].getDate() + '</td>\n' +
                        '        <td style="border-radius: 15px;background-image: linear-gradient(to right bottom, #6a5af9, #f62682);color: white">' + list[i].getModule() + '</td>\n' +
                        '        <td><button onclick="editStudent(' + i + ')" style="height: 40px; width: 150px;border-radius: 15px;border: none;background-image: linear-gradient(to bottom right, #FF512F, #DD2476);font-size: 16px;box-shadow: 3px 3px 6px black">üëâ Ch·ªânh s·ª≠a</button></td>\n' +
                        '        <td><button onclick="deleteStudent(' + i + ')" style="height: 40px; width: 150px;border-radius: 15px;border: none;background-image: linear-gradient(to bottom right, #FF61D2, #FE9090);font-size: 16px;box-shadow: 3px 3px 6px black">üëâ X√≥a</button></td>\n' +
                        '    </tr>'
                }
                tableString += '</table>'
                document.getElementById("result").innerHTML = tableString;
            }
        } else {
            alert("Sai t√†i kho·∫£n hoƒÉc m·∫≠t kh·∫©u")
        }
    }
</script>
</body>
</html>